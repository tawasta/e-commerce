<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="product" inherit_id="website_sale.product">
        <xpath expr="." position="inside">
            <script
        type="text/javascript"
        src="https://www.google.com/recaptcha/api.js?render=explicit"
        async="async"
        defer="defer"
      />
            <script
        type="text/javascript"
        src="/website_sale_invisible_recaptcha/static/src/js/recaptcha.js"
      />
        </xpath>
        <xpath expr="//form" position="inside">
            <t
        t-set="RECAPTCHA_KEY"
        t-value="request.env['website'].get_current_website().recaptcha_key_site"
      />
            <div
        t-attf-id="recaptcha-#{product.id}"
        class="g-recaptcha"
        t-att-data-sitekey="RECAPTCHA_KEY"
        data-size="invisible"
        render="explicit"
      />
        </xpath>
    </template>

    <template id="products" inherit_id="website_sale.products">
        <xpath expr="." position="inside">
            <script
        type="text/javascript"
        src="https://www.google.com/recaptcha/api.js?render=explicit"
        async="async"
        defer="defer"
      />
            <script
        type="text/javascript"
        src="/website_sale_invisible_recaptcha/static/src/js/recaptcha.js"
      />
        </xpath>
    </template>
    <template id="products_item" inherit_id="website_sale.products_item">
        <xpath expr="//form" position="inside">
            <t
        t-set="RECAPTCHA_KEY"
        t-value="request.env['website'].get_current_website().recaptcha_key_site"
      />
            <div
        t-attf-id="recaptcha-#{product.id}"
        class="g-recaptcha"
        t-att-data-sitekey="RECAPTCHA_KEY"
        data-size="invisible"
        render="explicit"
      />
        </xpath>
    </template>
</odoo>
